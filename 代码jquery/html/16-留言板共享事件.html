<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../js/jquery3.4.0.js" type="text/javascript" charset="utf-8"></script>
		<style>
			.container{
				width: 600px;
				height: 600px;
				border: 1px solid #ccc;
				margin: 50px auto;
			}
			.content{
				height: 350px;
				border: 1px solid #ccc;
				overflow-y: auto;
			}
			textarea{
				width: 600px;
				height: 100px;
				box-sizing: border-box;
				resize: none;
			}
			button{
				width: 600px;
				height: 50px;
				box-sizing: border-box;
			}
			p{
				word-break: break-all;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h2>留言板</h2>
			<hr />
			<div class="content"></div>
			<textarea placeholder="请输入留言"></textarea>
			<button>发表留言</button>
		</div>
		<script>
			// 留言板内容
			var floor = 0;	//楼层初始值
			
			// 发送内容
			$("button").eq(0).click(function(){
				
				var val = $("textarea").eq(0).val();
				
				if($.trim(val) !== ""){
					
					floor++;
					$(".content").eq(0).append("<p>"+floor+"楼: "+val+"</p>");
					$("textarea").eq(0).val("");
					
					// 保留在最新留言
					$(".content").scrollTop($(".content")[0].scrollHeight);
					
				}
				
				
			})
			
			$("textarea").on("keydown", function(ev){
				
				var ev = ev || window.event;
				
				if(ev.keyCode == 13){	//回车键
					
					$("button").trigger("click");	//共享button的点击事件
					
					return false;
					
				}
				
			})
			
		</script>
		
	</body>
</html>
