<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			html,body,div{margin: 0; padding: 0;}
			div{
				width: 100px;
				height: 100px;
				background-color: #ccc;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>
	<body>
		<div></div>
		
		<script>
			
//			1.页面加载后执行
			window.onload = function(){
				
//				2.获取元素
				var oBox = document.getElementsByTagName("div")[0];
				
//				3.绑定键盘按下事件
				document.onkeydown = function(ev){
					
//					4.ev兼容
					var ev = ev || window.event;
					
//					5.获取当前的top值和left值
					var oTop = parseInt(css(oBox, "top"));
					var oLeft = parseInt(css(oBox, "left"));
					
//					6.判断当前按下的键码
					switch(ev.keyCode){
						case 37: 	//左
							oLeft -= 20;
							oBox.style.left = oLeft+"px";
							break;
						case 38: 	//上
							oTop -= 20;
							oBox.style.top = oTop+"px";
							break;
						case 39: 	//右
							oLeft += 20;
							oBox.style.left = oLeft+"px";
							break;
						
						case 40: 	//下
							oTop += 20;
							oBox.style.top = oTop+"px";
							break;
						
					}
					
				}
				
								
//				设置或获取样式兼容函数
				function css(obj, attr, val){
					
//					判断是设置样式还是获取样式
					if(!val){	//获取样式
						if(window.getComputedStyle){	//判断浏览器是否支持getComputedStyle
			               return getComputedStyle(obj)[attr];
				       	}else{
			               return obj.currentStyle[attr];
				        }	
					}else{	//设置样式
						return obj.style[attr] = val;
					}
					
				}
				
			}
			
		</script>
	</body>
</html>
